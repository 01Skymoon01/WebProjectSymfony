
{% extends 'default/front/header.html.twig' %}


{% block head %}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{{ asset('bundles/starrating/css/rating.css') }}" />


    <script src="{{ asset('bundles/starrating/js/rating.js') }}"></script>

    {{ parent() }}

    <style>
        #divimg{

            float: left;
            width:70%;
            height:95%;
        }

        #detailprod{
            margin-left:35%;
        }
        #discount {
            color: white;
            font-weight:bold;
            background-color: #fd4339;
            padding: 5px 0px 5px 0px;
            width: 50%;
            margin-bottom: 37.5%;
            margin-left: 9.4%;
        }
    </style>

{% endblock %}




{% block container %}
    <!--SATRT REVOLUTION SLIDER-->
    <div id="rev_slider_1_1_wrapper" class="rev_slider_wrapper fullwidthbanner-container">
        <div id="rev_slider_1_1" class="rev_slider fullwidthabanner">
            <ul>
                <li data-transition="fade" data-slotamount="7" data-masterspeed="700"  data-saveperformance="off" >
                    <!-- MAIN IMAGE -->
                    <img src="{{ asset('front/images/slider/slider.jpg') }}"  alt="slider"  data-bgposition="center top" data-bgfit="cover" data-bgrepeat="no-repeat">
                    <!-- LAYERS -->

                    <!-- LAYER NR. 1 -->
                    <div class="tp-caption sft stt"
                         data-x="275"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/T.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 2 -->
                    <div class="tp-caption sfb stb"
                         data-x="340"
                         data-y="160"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/h.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 3 -->
                    <div class="tp-caption sft stt"
                         data-x="405"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/E.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 4 -->
                    <div class="tp-caption sfb stb"
                         data-x="495"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/B.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 5 -->
                    <div class="tp-caption sft stt"
                         data-x="560"
                         data-y="160"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/i.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 6 -->
                    <div class="tp-caption sfb stb"
                         data-x="587"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/C.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 7 -->
                    <div class="tp-caption sft stt"
                         data-x="641"
                         data-y="160"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/y.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 8 -->
                    <div class="tp-caption sfb stb"
                         data-x="695"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/C.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 9 -->
                    <div class="tp-caption sft stt"
                         data-x="760"
                         data-y="160"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/L.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 10 -->
                    <div class="tp-caption sfb stb"
                         data-x="810"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><img src="{{ asset('front/images/slider/E.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 11 -->
                    <div class="tp-caption mediumlightwhite2 customin customout tp-resizeme"
                         data-x="center" data-hoffset="-19"
                         data-y="center" data-voffset="10"
                         data-customin="x:0;y:0;z:0;rotationX:0;rotationY:-180;rotationZ:0;scaleX:1;scaleY:1;skewX:0;skewY:0;opacity:0;transformPerspective:3000;transformOrigin:50% 0%;"
                         data-customout="x:0;y:0;z:0;rotationX:0;rotationY:0;rotationZ:0;scaleX:0;scaleY:0;skewX:0;skewY:0;opacity:0;transformPerspective:600;transformOrigin:50% 50%;"
                         data-speed="1500"
                         data-start="1500"
                         data-easing="easeOutQuint"
                         data-splitin="none"
                         data-splitout="none"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut">Jetez un coup d'oeil sur nos produits!!
                    </div>

                    <!-- LAYER NR. 12 -->
                    <div class="tp-caption black customin customout tp-resizeme"
                         data-x="center" data-hoffset="-19"
                         data-y="center" data-voffset="110"
                         data-customin="x:0;y:0;z:0;rotationX:0;rotationY:0;rotationZ:0;scaleX:0;scaleY:0;skewX:0;skewY:0;opacity:0;transformPerspective:600;transformOrigin:50% 50%;"
                         data-customout="x:0;y:0;z:0;rotationX:0;rotationY:0;rotationZ:0;scaleX:0;scaleY:0;skewX:0;skewY:0;opacity:0;transformPerspective:600;transformOrigin:50% 50%;"
                         data-speed="1500"
                         data-start="1600"
                         data-easing="Back.easeInOut"
                         data-splitin="none"
                         data-splitout="none"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="1000"
                         data-endeasing="Power4.easeOut"><a href='{{ path('shop') }}' class='buttom_bike'>Achetez Maintenant.</a>
                    </div>
                </li>
                <li data-transition="fade" data-slotamount="7" data-masterspeed="700"  data-saveperformance="off" >
                    <!-- MAIN IMAGE -->
                    <img src="{{ asset('front/images/slider/slider31.jpg') }}"  alt="slider31"  data-bgposition="center top" data-bgfit="cover" data-bgrepeat="no-repeat">
                    <!-- LAYERS -->

                    <!-- LAYER NR. 1 -->
                    <div class="tp-caption slider-title sfr tp-resizeme"
                         data-x="center" data-hoffset="0"
                         data-y="center" data-voffset="-52"
                         data-speed="1200"
                         data-start="500"
                         data-easing="easeOutExpo"
                         data-splitin="chars"
                         data-splitout="none"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300">Joignez-vous à nos événements et Baskel avec nous!
                    </div>

                    <!-- LAYER NR. 2 -->
                    <div class="tp-caption black sfb tp-resizeme"
                         data-x="center" data-hoffset="0"
                         data-y="center" data-voffset="34"
                         data-speed="800"
                         data-start="2200"
                         data-easing="Quad.easeInOut"
                         data-splitin="none"
                         data-splitout="none"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><a href='{{ asset('AfficheEvf') }}' class='buttom_bike'>Nos Evenements.</a>
                    </div>
                </li>

                <li data-transition="fade" data-slotamount="7" data-masterspeed="700"  data-saveperformance="off" >
                    <!-- MAIN IMAGE -->
                    <img src="{{ asset('front/images/slider/slider2.jpg') }}"  alt="slider2"  data-bgposition="center top" data-bgfit="cover" data-bgrepeat="no-repeat">
                    <!-- LAYERS -->

                    <!-- LAYER NR. 1 -->
                    <div class="tp-caption sft"
                         data-x="275"
                         data-y="200"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/T.png') }}" alt="">
                    </div>
                    <!-- LAYER NR. 2 -->
                    <div class="tp-caption sfb"
                         data-x="340"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/h.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 3 -->
                    <div class="tp-caption sft"
                         data-x="405"
                         data-y="200"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/E.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 4 -->
                    <div class="tp-caption sfb"
                         data-x="495"
                         data-y="200"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/B.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 5 -->
                    <div class="tp-caption sft"
                         data-x="560"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/i.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 6 -->
                    <div class="tp-caption sfb"
                         data-x="587"
                         data-y="200"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/C.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 7 -->
                    <div class="tp-caption sft"
                         data-x="641"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/y.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 8 -->
                    <div class="tp-caption sfb"
                         data-x="695"
                         data-y="200"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/C.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 9 -->
                    <div class="tp-caption sft"
                         data-x="760"
                         data-y="180"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/L.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 10 -->
                    <div class="tp-caption sfb"
                         data-x="810"
                         data-y="200"
                         data-speed="1500"
                         data-start="600"
                         data-easing="Back.easeInOut"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300"><img src="{{ asset('front/images/slider/e.png') }}" alt="">
                    </div>

                    <!-- LAYER NR. 11 -->
                    <div class="tp-caption mediumlightwhite2 customin tp-resizeme"
                         data-x="center" data-hoffset="-19"
                         data-y="center" data-voffset="30"
                         data-customin="x:0;y:0;z:0;rotationX:0;rotationY:-180;rotationZ:0;scaleX:1;scaleY:1;skewX:0;skewY:0;opacity:0;transformPerspective:3000;transformOrigin:50% 0%;"
                         data-speed="1500"
                         data-start="1500"
                         data-easing="Power4.easeOut"
                         data-splitin="none"
                         data-splitout="none"
                         data-elementdelay="0.1"
                         data-endelementdelay="0.1"
                         data-endspeed="300">Lorem Ipsum is simply dummy text of the printing
                    </div>
                </li>
            </ul>
        </div>
    </div><!--END REVOLUTION SLIDER-->


    <script  type="application/javascript" async>
        $(document).ready(function(){
            console.log("here jquery");
            $(".addcart2").click(function(){
                // $(this).hide();
                console.log("clicked addcart");
                $data=$(this).parent().parent().parent().html();

                console.log($data);

                //$data=$data.hasClass('name').val();

                console.log($(this).parent().parent().parent().find('.refProduct').val());
                $ref=$(this).parent().parent().parent().find('.refProduct').val();
                $.ajax({
                    url:'{{ path('ajouterAuPanier') }}',
                    type: "GET",
                    data: {
                        'ref' : $ref
                    },
                    dataType:"text",
                    success: function (data)
                    {
                        console.log(data);
                        // console.log(data.qte);
                        $date=$.parseJSON(data);
                        console.log($date.etat);
                        if (!($date.etat = 1)) {
                        } else {
                            alert("Deja ajouter");
                        }
                        $("#countItems").text($date.articles);
                    }

                });

            });




        });
    </script>

    <!--Start section large top for tabs content-->
    <div class="section-large-top">
        <div class="container">

            <!--Tabs Shop-->
            <div class="tz-shortcode-tabs">

                <!--Tabs Header-->
                <div class="tz-tabs-header">
                    <h2 class="tz-tabs-title pull-left">Produits En Vente</h2>
                    <ul class="nav nav-tabs pull-right tz-nav-tabs">
                        {% for c in categorie %}
                        <li role="presentation" class="active"><a  data-toggle="tab">{{ c.libelle }} <i class="fa fa-circle"></i></a></li>
                       {% endfor %}
                    </ul>
                </div>
                <!--End tab header-->

                <!--Tab content-->
                <div class="tab-content" >

                    <!--Tab item-->
                    <div class="tab-pane active" id="one_read" >
                        <div class="row">
                            {% for p in produit %}
                            <div class="col-md-4 col-sm-6"  >




                                <!--Start product item-->
                                <div class="product-item" >
                                    <div class="product-thubnail">
                                        <img src="{{ asset('uploads/images/' ~ p.image) }}" alt="product 1"  style="width: 300px; height: 280px;"/>

                                        <div class="product-meta">
                                            {% if(p.solde != 0) %}
                                                <p id="discount"><i class="fa fa-tags"> PROMOTION: {{ p.solde }}%</i> </p>
                                            {% endif %}


                                        </div>

                                        <div class="product-meta">
                                            <input type="hidden" class="refProduct" value="{{ p.refP }}" >
                                            <a class="add-to-cart addcart2"  ><i class="fa fa-cart-plus" style="padding: 12px 12px 12px 12px; font-size: 20px; "></i></a>
                                            <span class="quick-view">
                                             <a type="button" data-toggle="modal" data-target="#myModal{{ p.refP }}" ><i class="fa fa-info-circle" style="padding: 12px 12px 12px 12px; font-size: 20px; "></i></a>

                                            </span>
                                        </div>





                                    </div>
                                    <div class="product-infomation">
                                        <h4><a>{{ p.nomP }}</a></h4>
                                        <span class="product-price">{{ p.prixP }}DT</span>
                                        <span class="product-attr">


                                            {% for item in p.couleurP %}
                                                <i class="fa fa-circle" style="color: {{ item }}"></i>

                                            {% endfor %}

                                        </span>
                                    </div>
                                </div>

                                <!--End product item-->
                            </div>


                                <div id="myModal{{ p.refP }}" class="modal fade refProduct" role="dialog">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header" >
                                                <button type="button" class="close" data-dismiss="modal" style="margin-left: 15px;">&times;</button>
                                                <h3 class="modal-title" style="margin-right: 510px;">Détail du produit:</h3>
                                            </div>
                                            <div class="modal-body">
                                                <div id="divimg">
                                                    <img src="{{ asset('uploads/images/' ~ p.image) }}" alt="product 1"  style="width: 300px; height: 400px;"/>
                                                    <p style="font-size: large; font-weight: bold; text-decoration: underline;">Description: </p>
                                                    <p style="width:180px;">{{ p.description }}</p>
                                                </div>

                                                <div id="detailprod">
                                                    <ul class="product-event-content">

                                                        <li>
                                                            <h3><a href="#" style="margin-left: 79px;">{{ p.nomP }}</a></h3>
                                                            <span class="product-rating" >
                                                                    <i class="fa fa-star" style="margin-left: 75px;"></i>
                                                                    <i class="fa fa-star"></i>
                                                                    <i class="fa fa-star"></i>
                                                                    <i class="fa fa-star"></i>
                                                                    <i class="fa fa-star-half-o"></i>

                                                            </span>
                                                           <center> <span class="event-price" >Prix: {{ p.prixP }}DT</span></center>


                                                        </li>

                                                        <li class="product-event-attr" style="margin-top: -200px;" >
                                                                <span class="tz-color" style="margin-left: -190px;">
                                                                    Color:
                                                                     {% for item in p.couleurP %}
                                                                         <i class="fa fa-circle" style="color: {{ item }}"></i>
                                                                     {% endfor %}
                                                                </span>

                                                            <span class="tz-stock" style="margin-left: -20px">
                                                               {% if p.quantiteP == 0 %}
                                                                 - Rupture de stock -
                                                                 {% else %}
                                                                 - En stock -
                                                               {% endif %}
                                                            </span>


                                                        </li>


                                                        <li class="event-footer" style="margin-top: -100px;">
                                                            <a href="#" class="add-to-cart " style="margin-left: 10px;">Ajouter Au Panier.</a>
                                                            <a href="{{ path('ajouterWishlists', { 'refP': p.refP }) }}" class="add-to-wishlist" style="margin-left: -10px;">Ajouter A Wishlist.</a>
                                                        </li>
                                                    </ul>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>



                            {% endfor %}
                            </div>





        <!--End product-->

        </div>



                    <!--End tab item-->

                </div>

                <!--End tab content-->

            </div>
            <!--End Tabs Shop-->

        </div>

        </div>


{% endblock %}




